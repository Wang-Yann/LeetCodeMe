#!/usr/bin/env python
# -*- coding: utf-8 -*-
# @Author        : Rocky Wayne 
# @Created       : 2020-04-19 22:38:04
# @Last Modified : 2020-04-19 22:38:04
# @Mail          : lostlorder@gamil.com
# @Version       : alpha-1.0

"""
# ç»™å®šé“¾è¡¨å¤´ç»“ç‚¹ headï¼Œè¯¥é“¾è¡¨ä¸Šçš„æ¯ä¸ªç»“ç‚¹éƒ½æœ‰ä¸€ä¸ª å”¯ä¸€çš„æ•´å‹å€¼ ã€‚
#
#  åŒæ—¶ç»™å®šåˆ—è¡¨ Gï¼Œè¯¥åˆ—è¡¨æ˜¯ä¸Šè¿°é“¾è¡¨ä¸­æ•´å‹å€¼çš„ä¸€ä¸ªå­é›†ã€‚
#
#  è¿”å›åˆ—è¡¨ G ä¸­ç»„ä»¶çš„ä¸ªæ•°ï¼Œè¿™é‡Œå¯¹ç»„ä»¶çš„å®šä¹‰ä¸ºï¼šé“¾è¡¨ä¸­ä¸€æ®µæœ€é•¿è¿ç»­ç»“ç‚¹çš„å€¼ï¼ˆè¯¥å€¼å¿…é¡»åœ¨åˆ—è¡¨ G ä¸­ï¼‰æ„æˆçš„é›†åˆã€‚
#
#
#
#  ç¤ºä¾‹ 1ï¼š
#
#  è¾“å…¥:
# head: 0->1->2->3
# G = [0, 1, 3]
# è¾“å‡º: 2
# è§£é‡Š:
# é“¾è¡¨ä¸­,0 å’Œ 1 æ˜¯ç›¸è¿æ¥çš„ï¼Œä¸” G ä¸­ä¸åŒ…å« 2ï¼Œæ‰€ä»¥ [0, 1] æ˜¯ G çš„ä¸€ä¸ªç»„ä»¶ï¼ŒåŒç† [3] ä¹Ÿæ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œæ•…è¿”å› 2ã€‚
#
#  ç¤ºä¾‹ 2ï¼š
#
#  è¾“å…¥:
# head: 0->1->2->3->4
# G = [0, 3, 1, 4]
# è¾“å‡º: 2
# è§£é‡Š:
# é“¾è¡¨ä¸­ï¼Œ0 å’Œ 1 æ˜¯ç›¸è¿æ¥çš„ï¼Œ3 å’Œ 4 æ˜¯ç›¸è¿æ¥çš„ï¼Œæ‰€ä»¥ [0, 1] å’Œ [3, 4] æ˜¯ä¸¤ä¸ªç»„ä»¶ï¼Œæ•…è¿”å› 2ã€‚
#
#
#
#  æç¤ºï¼š
#
#
#  å¦‚æœ N æ˜¯ç»™å®šé“¾è¡¨ head çš„é•¿åº¦ï¼Œ1 <= N <= 10000ã€‚
#  é“¾è¡¨ä¸­æ¯ä¸ªç»“ç‚¹çš„å€¼æ‰€åœ¨èŒƒå›´ä¸º [0, N - 1]ã€‚
#  1 <= G.length <= 10000
#  G æ˜¯é“¾è¡¨ä¸­æ‰€æœ‰ç»“ç‚¹çš„å€¼çš„ä¸€ä¸ªå­é›†.
#
#  Related Topics é“¾è¡¨
#  ğŸ‘ 48 ğŸ‘ 0

"""


from typing import List

from common_utils import ListNode


class Solution:

    def numComponents(self, head: ListNode, G: List[int]) -> int:
        """
        TODO é¢˜ä¹‰è½¬æ¢
        æˆ‘ä»¬å¯¹é“¾è¡¨è¿›è¡Œä¸€æ¬¡æ‰«æï¼Œä¸€ä¸ªç»„ä»¶åœ¨é“¾è¡¨ä¸­å¯¹åº”ä¸€æ®µæé•¿çš„è¿ç»­èŠ‚ç‚¹ï¼Œå› æ­¤å¦‚æœå½“å‰çš„èŠ‚ç‚¹åœ¨åˆ—è¡¨ G ä¸­ï¼Œ
        å¹¶ä¸”ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸åœ¨åˆ—è¡¨ G ä¸­ï¼Œæˆ‘ä»¬å°±æ‰¾åˆ°äº†ä¸€ä¸ªç»„ä»¶çš„å°¾èŠ‚ç‚¹ï¼Œå¯ä»¥å°†ç­”æ¡ˆåŠ  1
        """
        lookup = set(G)
        dummy = ListNode(-1)
        dummy.next = head
        cur = dummy
        result = 0
        while cur and cur.next:
            if cur.val not in lookup and cur.next.val in lookup:
                result += 1
            cur = cur.next
        return result


if __name__ == '__main__':
    sol = Solution()
    samples = [
        ("0->1->2->3", [0, 1, 3]),
        ("0->1->2->3->4", [0, 3, 1, 4]),
    ]
    args_list = [(ListNode.init_list_from_str(x), y) for x, y in samples]
    res = [sol.numComponents(x, y) for x, y in args_list]
    print(res)

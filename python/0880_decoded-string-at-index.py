#!/usr/bin/env python
# -*- coding: utf-8 -*-
# @Author        : Rocky Wayne 
# @Created       : 2020-04-26 22:52:38
# @Last Modified : 2020-04-26 22:52:38
# @Mail          : lostlorder@gamil.com
# @Version       : alpha-1.0


"""
# ç»™å®šä¸€ä¸ªç¼–ç å­—ç¬¦ä¸² Sã€‚è¯·ä½ æ‰¾å‡º è§£ç å­—ç¬¦ä¸² å¹¶å°†å…¶å†™å…¥ç£å¸¦ã€‚è§£ç æ—¶ï¼Œä»ç¼–ç å­—ç¬¦ä¸²ä¸­ æ¯æ¬¡è¯»å–ä¸€ä¸ªå­—ç¬¦ ï¼Œå¹¶é‡‡å–ä»¥ä¸‹æ­¥éª¤ï¼š
#
#
#  å¦‚æœæ‰€è¯»çš„å­—ç¬¦æ˜¯å­—æ¯ï¼Œåˆ™å°†è¯¥å­—æ¯å†™åœ¨ç£å¸¦ä¸Šã€‚
#  å¦‚æœæ‰€è¯»çš„å­—ç¬¦æ˜¯æ•°å­—ï¼ˆä¾‹å¦‚ dï¼‰ï¼Œåˆ™æ•´ä¸ªå½“å‰ç£å¸¦æ€»å…±ä¼šè¢«é‡å¤å†™ d-1 æ¬¡ã€‚
#
#
#  ç°åœ¨ï¼Œå¯¹äºç»™å®šçš„ç¼–ç å­—ç¬¦ä¸² S å’Œç´¢å¼• Kï¼ŒæŸ¥æ‰¾å¹¶è¿”å›è§£ç å­—ç¬¦ä¸²ä¸­çš„ç¬¬ K ä¸ªå­—æ¯ã€‚
#
#
#
#  ç¤ºä¾‹ 1ï¼š
#
#  è¾“å…¥ï¼šS = "leet2code3", K = 10
# è¾“å‡ºï¼š"o"
# è§£é‡Šï¼š
# è§£ç åçš„å­—ç¬¦ä¸²ä¸º "leetleetcodeleetleetcodeleetleetcode"ã€‚
# å­—ç¬¦ä¸²ä¸­çš„ç¬¬ 10 ä¸ªå­—æ¯æ˜¯ "o"ã€‚
#
#
#  ç¤ºä¾‹ 2ï¼š
#
#  è¾“å…¥ï¼šS = "ha22", K = 5
# è¾“å‡ºï¼š"h"
# è§£é‡Šï¼š
# è§£ç åçš„å­—ç¬¦ä¸²ä¸º "hahahaha"ã€‚ç¬¬ 5 ä¸ªå­—æ¯æ˜¯ "h"ã€‚
#
#
#  ç¤ºä¾‹ 3ï¼š
#
#  è¾“å…¥ï¼šS = "a2345678999999999999999", K = 1
# è¾“å‡ºï¼š"a"
# è§£é‡Šï¼š
# è§£ç åçš„å­—ç¬¦ä¸²ä¸º "a" é‡å¤ 8301530446056247680 æ¬¡ã€‚ç¬¬ 1 ä¸ªå­—æ¯æ˜¯ "a"ã€‚
#
#
#
#
#  æç¤ºï¼š
#
#
#  2 <= S.length <= 100
#  S åªåŒ…å«å°å†™å­—æ¯ä¸æ•°å­— 2 åˆ° 9 ã€‚
#  S ä»¥å­—æ¯å¼€å¤´ã€‚
#  1 <= K <= 10^9
#  é¢˜ç›®ä¿è¯ K å°äºæˆ–ç­‰äºè§£ç å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚
#  è§£ç åçš„å­—ç¬¦ä¸²ä¿è¯å°‘äº 2^63 ä¸ªå­—æ¯ã€‚
#
#  Related Topics æ ˆ
#  ğŸ‘ 98 ğŸ‘ 0

"""

class Solution:

    def decodeAtIndex(self, S: str, K: int) -> str:
        """
        Good
        ä¸è¿‡é¢˜ç›®ä¸ä¸¥è°¨
        """
        i = 0
        for c in S:
            if c.isdigit():
                i *= int(c)
            else:
                i += 1
        print(i)
        for c in reversed(S):
            K %= i
            if K == 0 and c.isalpha():
                return c
            if c.isdigit():
                i //= int(c)
            else:
                i -= 1


if __name__ == '__main__':
    sol = Solution()
    samples = [
        dict(S="leet2code3", K=10),
        dict(S="ha22", K=5),
        dict(S="a2345678999999999999999", K=1),
        dict(S="abc", K=1),
        dict(S="vzpp636m8y", K=2920),
        # dict(S="abc234567899999999999999999999999999999999999999999999999999999", K=2)
    ]
    res = [sol.decodeAtIndex(**args) for args in samples]
    print(res)

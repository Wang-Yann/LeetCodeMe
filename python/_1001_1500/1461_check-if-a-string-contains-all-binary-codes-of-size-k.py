#!/usr/bin/env python
# -*- coding: utf-8 -*-
# @Author        : Rock Wayne 
# @Created       : 2020-07-10 11:41:12
# @Last Modified : 2020-07-10 11:41:12
# @Mail          : lostlorder@gmail.com
# @Version       : alpha-1.0

"""
# ç»™ä½ ä¸€ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸² s å’Œä¸€ä¸ªæ•´æ•° k ã€‚ 
# 
#  å¦‚æœæ‰€æœ‰é•¿åº¦ä¸º k çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²éƒ½æ˜¯ s çš„å­ä¸²ï¼Œè¯·è¿”å› True ï¼Œå¦åˆ™è¯·è¿”å› False ã€‚ 
# 
#  
# 
#  ç¤ºä¾‹ 1ï¼š 
# 
#  è¾“å…¥ï¼šs = "00110110", k = 2
# è¾“å‡ºï¼štrue
# è§£é‡Šï¼šé•¿åº¦ä¸º 2 çš„äºŒè¿›åˆ¶ä¸²åŒ…æ‹¬ "00"ï¼Œ"01"ï¼Œ"10" å’Œ "11"ã€‚å®ƒä»¬åˆ†åˆ«æ˜¯ s ä¸­ä¸‹æ ‡ä¸º 0ï¼Œ1ï¼Œ3ï¼Œ2 å¼€å§‹çš„é•¿åº¦ä¸º 2 çš„å­ä¸²ã€‚
#  
# 
#  ç¤ºä¾‹ 2ï¼š 
# 
#  è¾“å…¥ï¼šs = "00110", k = 2
# è¾“å‡ºï¼štrue
#  
# 
#  ç¤ºä¾‹ 3ï¼š 
# 
#  è¾“å…¥ï¼šs = "0110", k = 1
# è¾“å‡ºï¼štrue
# è§£é‡Šï¼šé•¿åº¦ä¸º 1 çš„äºŒè¿›åˆ¶ä¸²åŒ…æ‹¬ "0" å’Œ "1"ï¼Œæ˜¾ç„¶å®ƒä»¬éƒ½æ˜¯ s çš„å­ä¸²ã€‚
#  
# 
#  ç¤ºä¾‹ 4ï¼š 
# 
#  è¾“å…¥ï¼šs = "0110", k = 2
# è¾“å‡ºï¼šfalse
# è§£é‡Šï¼šé•¿åº¦ä¸º 2 çš„äºŒè¿›åˆ¶ä¸² "00" æ²¡æœ‰å‡ºç°åœ¨ s ä¸­ã€‚
#  
# 
#  ç¤ºä¾‹ 5ï¼š 
# 
#  è¾“å…¥ï¼šs = "0000000001011100", k = 4
# è¾“å‡ºï¼šfalse
#  
# 
#  
# 
#  æç¤ºï¼š 
# 
#  
#  1 <= s.length <= 5 * 10^5 
#  s ä¸­åªå« 0 å’Œ 1 ã€‚ 
#  1 <= k <= 20 
#  
#  Related Topics ä½è¿ç®— å­—ç¬¦ä¸² 
#  ğŸ‘ 11 ğŸ‘ 0

"""

import pytest


# leetcode submit region begin(Prohibit modification and deletion)
class Solution:
    def hasAllCodes(self, s: str, k: int) -> bool:
        """
        å­¦ç€ç‚¹
        """
        return len({s[i:i + k] for i in range(len(s) - k + 1)}) == 2 ** k


# leetcode submit region end(Prohibit modification and deletion)


@pytest.mark.parametrize("kw,expected", [
    [dict(s="00110110", k=2), True],
    [dict(s="00110", k=2), True],
    [dict(s="0110", k=1), True],
    [dict(s="0110", k=2), False],
    [dict(s="0000000001011100", k=4), False],
    [dict(s=("0100100010011110100101010111010001000101110001110010010101000000110101010"
             "111010010001101011010100001111111111110100001001000000100011111100111001000"
             "00010110100011101000100010100011100101110110101101011101101100110100010010"
             "00110001101010101010111011111000010110101101100010000001001110000000000001"
             "100110111001011010100101001011111110010010001100011100101110111001100101001011100001110"),
          k=7), False]
])
def test_solutions(kw, expected):
    assert Solution().hasAllCodes(**kw) == expected


if __name__ == '__main__':
    pytest.main(["-q", "--color=yes", "--capture=no", __file__])
